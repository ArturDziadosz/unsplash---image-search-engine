{"version":3,"sources":["components/Form.js","components/Photo.js","components/PhotoGallery.js","App.js","index.js"],"names":["Form","noMatch","photos","searchValue","trendingTopics","handleSearchValueChange","handleSubmit","inputRef","useRef","useEffect","current","focus","className","length","href","target","rel","onSubmit","onClick","htmlFor","type","name","placeholder","value","onChange","e","ref","map","topic","i","title","id","Photo","user","src","srcBigger","useState","isBig","setIsBig","handleToggleBigger","window","scrollTo","alt","profile_image","small","twitter_username","PhotoGallery","savedValue","handleClickTag","sortedTags","setSortedTags","arrayTags","photo","tags","tag","push","tagsCount","reduce","obj","item","toLowerCase","tagsCountSorted","Object","fromEntries","entries","sort","a","keys","sortedTag","idx","urls","regular","App","setSearchValue","setSavedValue","setPhotos","backgroundImg","setBackgroundImg","setTrendingTopics","setNoMatch","key","fetch","then","resp","json","data","style","preventDefault","total","results","charAt","toUpperCase","slice","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4a3a62ee.chunk.js","sourcesContent":["import { useEffect, useRef } from 'react';\nimport './Form.scss';\n\nfunction Form( {noMatch, photos, searchValue, trendingTopics, handleSearchValueChange, handleSubmit} ) {\n\n  const inputRef = useRef(null);\n\n  useEffect(() => {\n    inputRef.current.focus();\n  })\n\n  const handleFocus = () => {\n    inputRef.current.focus();\n  }\n\n  const handleClear = () => {\n    handleSearchValueChange('');\n    inputRef.current.focus();\n  }\n\n  return (\n    <section className={photos.length === 0 ? 'container fullForm' : 'container smallForm'}>\n      <header className='row header'>\n        {photos.length === 0 &&\n          <>\n            <h1 className='header__title'>Unsplash</h1>\n            <p className='header__text'>The internet's source of {' '}\n              <a  href=\"https://unsplash.com/\" \n                  target='_blank' \n                  rel='noreferrer'> freely-usable images</a>.\n            </p>\n            <p className='header__text'>Powered by creators everywhere.</p>\n          </> \n        }\n        <form className={noMatch ? 'header__form header__form--error' : 'header__form'} onSubmit={handleSubmit}>\n          <i className=\"fas fa-search\" onClick={handleFocus} />\n          {noMatch && <label htmlFor='content' className='header__form__label'>No match found!</label>}\n          <input \n            type='text'\n            name='content'\n            className={noMatch ? 'header__form__input header__form__input--error' : 'header__form__input'}\n            placeholder='Search free high-resolution photos'\n            value={searchValue}\n            onChange={e => handleSearchValueChange(e.target.value)}\n            ref={inputRef}\n            />\n          {searchValue ? <i className=\"fas fa-times\" onClick={handleClear}/> : null}\n        </form>\n        {photos.length === 0 && trendingTopics.length !== 0 &&\n          <p className='header__text'>Trending: \n            {trendingTopics.map((topic, i) => {\n              if (trendingTopics.length === i +1) return <span key={topic.id}> {topic.title}</span>;\n              return <span key={topic.id}> {topic.title},</span>\n              }\n            )}\n          </p>\n        }\n      </header>\n    </section>\n  );\n}\n\nexport default Form;\n","import { useRef, useState } from 'react';\nimport './Photo.scss';\n\nconst Photo = ( {user, src, srcBigger} ) => {\n\n  const [isBig, setIsBig] = useState(false);\n\n  const handleToggleBigger = () => {\n    setIsBig(!isBig);\n    window.scrollTo(0,0);\n  }\n\n  return (\n    <li className='photoGallery__list__elem'>\n      <img \n        className='list__elem__img'\n        src={src} \n        alt='' \n        onClick={handleToggleBigger} \n      />\n      {isBig && \n        <div className='list__elem__container'>\n          <div className='elem__container__user'>\n            <img src={user.profile_image.small} alt='' />\n            <p>{user.name}</p>\n            {user.twitter_username && <p>@{user.twitter_username}</p>}\n          </div>\n          <img \n            className='elem__container__img'\n            src={srcBigger} \n            alt='' \n            onClick={handleToggleBigger} \n          />\n        </div>\n      }\n    </li>\n  )\n}\n\nexport default Photo;","import './PhotoGallery.scss';\nimport Photo from './Photo';\nimport { useEffect, useState } from 'react';\n\nconst PhotoGallery = ( {photos, savedValue, handleClickTag} ) => {\n\n  const [sortedTags, setSortedTags] = useState([]);\n\n  useEffect(() => {\n    let arrayTags = [];\n\n    photos.map(photo => {\n      return photo.tags.map((tag => {\n        return arrayTags.push(tag.title);\n      }));\n    })\n\n    const tagsCount = arrayTags.reduce((obj, item) => {\n      const searched = savedValue.toLowerCase();\n      if (item === searched) return obj;\n      if (!obj[item]) obj[item] = 0;\n      obj[item]++;\n      return obj;\n    }, {});\n\n    const tagsCountSorted = Object.fromEntries(Object.entries(tagsCount).sort(([,a],[,b]) => b - a));\n\n    setSortedTags(Object.keys(tagsCountSorted));\n\n  }, [photos])\n\n  return (\n    <section className='container photoGallery'>\n      <div className='row photoGallery__description'>\n        <h2 className='photoGallery__description__title'>{savedValue}</h2>\n      </div>\n      <div className='row photoGallery__description'>\n        {sortedTags && \n          sortedTags.map((sortedTag, idx) => {\n            return <div key={idx} className='photoGallery__description__tag' onClick={e => handleClickTag(e, sortedTag)}>{sortedTag}</div>\n          })\n        }\n      </div>\n      <ul className='row photoGallery__list'>\n        {photos.map(photo =>\n            <Photo key={photo.id} src={photo.urls.small} srcBigger={photo.urls.regular} user={photo.user}/>\n        )}\n      </ul>\n    </section>\n  )\n}\n\nexport default PhotoGallery;","\nimport { useEffect, useState } from 'react';\nimport './App.scss';\nimport Form from './components/Form';\nimport PhotoGallery from './components/PhotoGallery';\n\nfunction App() {\n  const [searchValue, setSearchValue] = useState('');\n  const [savedValue, setSavedValue] = useState('');\n  const [photos, setPhotos] = useState([]);\n  const [backgroundImg, setBackgroundImg] = useState('');\n  const [trendingTopics, setTrendingTopics] = useState([]);\n  const [noMatch, setNoMatch] = useState(false);\n  const key = \"q8pGKlT0Khz6viOf9A5MXa-3XvXETz3f8xNcchKr9MY\";\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    fetch(`https://api.unsplash.com/search/photos/?client_id=${key}&query=${searchValue}&per_page=30`)\n    .then(resp => resp.json()\n    .then(data => {\n      if (data.total === 0) {\n        setNoMatch(true);\n      } else {\n        setNoMatch(false);\n      }\n      setSavedValue(searchValue);\n      setPhotos(data.results);\n    }))\n  }\n\n  const handleClickTag = (e ,value) => {\n    fetch(`https://api.unsplash.com/search/photos/?client_id=${key}&query=${value}&per_page=30`)\n    .then(resp => resp.json()\n    .then(data => {\n      if (data.total === 0) {\n        setNoMatch(true);\n      } else {\n        setNoMatch(false);\n      }\n      setSavedValue(value.charAt(0).toUpperCase() + value.slice(1));\n      setPhotos(data.results);\n    }))\n  }\n\n  useEffect(() => {\n    fetch(`https://api.unsplash.com/photos/random/?client_id=${key}`)\n    .then(resp => resp.json()\n    .then(data => setBackgroundImg(data.urls.regular)))\n\n    fetch(`https://api.unsplash.com/topics/?client_id=${key}&per_page=5`)\n    .then(resp => resp.json()\n    .then(data => setTrendingTopics(data)))\n  }, [])\n\n  return (\n    <>\n      {photos.length === 0 && <section className=\"hero\" style={backgroundImg ? {\"backgroundImage\": `url(${backgroundImg})`} : null} />}\n      <Form \n        noMatch={noMatch}\n        photos={photos}\n        searchValue={searchValue} \n        trendingTopics={trendingTopics}\n        handleSearchValueChange={setSearchValue}\n        handleSubmit={handleSubmit}\n      />\n      {photos.length !==0 && \n        <PhotoGallery \n          photos={photos}\n          savedValue={savedValue}\n          handleClickTag={handleClickTag}\n        />\n      }\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.scss';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}