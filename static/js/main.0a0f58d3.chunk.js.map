{"version":3,"sources":["components/Form.js","components/Photo.js","components/PhotoGallery.js","App.js","index.js"],"names":["Form","noMatch","photos","searchValue","trendingTopics","handleSearchValueChange","handleSubmit","inputRef","useRef","useState","matches","setMatches","showAutocomplete","setShowAutocomplete","useEffect","current","focus","displayMatches","value","length","arrayOfTags","data","forEach","tags","push","map","tag","title","wordToMatch","matchArray","filter","elem","regex","RegExp","match","uniqMatchArray","item","index","indexOf","className","style","href","target","rel","onSubmit","onClick","htmlFor","type","name","placeholder","onChange","onKeyUp","ref","idx","e","topic","i","id","Photo","user","src","srcBigger","dalej","idoffuture","isBig","setIsBig","clientY","setClientY","photoDetails","setPhotoDetails","setE","handleMakeSmaller","key","dataset","photoRef","console","log","tabIndex","onKeyDown","alt","fetch","then","resp","json","pageY","window","scrollTo","data-tag","profile_image","small","twitter_username","location","PhotoGallery","savedValue","handleClickTag","setIsBottom","sortedTags","setSortedTags","setidoffuture","photoGalleryRef","photo","arrayTags","tagsCount","reduce","obj","toLowerCase","tagsCountSorted","Object","fromEntries","entries","sort","a","keys","addEventListener","handleScroll","innerHeight","getBoundingClientRect","bottom","sortedTag","urls","regular","App","setSearchValue","setSavedValue","setPhotos","backgroundImg","setBackgroundImg","setTrendingTopics","setNoMatch","page","setPage","isBottom","handleMore","total","charAt","toUpperCase","slice","results","preventDefault","photosArray","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0a0f58d3.chunk.js","sourcesContent":["import { useState, useEffect, useRef } from 'react';\nimport './Form.scss';\nimport data from '../db.json';\n\nfunction Form( {noMatch, photos, searchValue, trendingTopics, handleSearchValueChange, handleSubmit} ) {\n\n  //ref\n  const inputRef = useRef(null);\n\n  //state\n  const [matches, setMatches] = useState([]);\n  const [showAutocomplete, setShowAutocomplete] = useState(false);\n\n  //focusing on input\n  useEffect(() => {\n    inputRef.current.focus();\n  }, [])\n\n  //focus on input when user click on search icon\n  const handleFocus = () => {\n    inputRef.current.focus();\n  }\n\n  //clearing when user click on delete icon\n  const handleClear = () => {\n    inputRef.current.focus();\n    handleSearchValueChange('');\n    setMatches([]);\n  }\n\n  //filtering through data to find matches\n  const findMatches = (wordToMatch, data) => {\n    return data.filter(elem => {\n      const regex = new RegExp(wordToMatch, 'gi');\n      return elem.match(regex);\n    })\n  }\n\n  //displaying matched topics\n  const displayMatches = () => {\n    //updating state\n    handleSearchValueChange(inputRef.current.value);\n\n    //if there are less then 3 letters stop\n    if (searchValue.length < 3) return;\n\n    //crate array of tags from data\n    const arrayOfTags = [];\n    data.forEach(tags=> {\n      return arrayOfTags.push(...tags.tags.map(tag=>tag.title))\n      })\n\n    //put array of tags through findMtaches function\n    const matchArray = findMatches(searchValue, arrayOfTags);\n\n    //remove duplicates\n    const uniqMatchArray = matchArray.filter((item, index) => {\n      return matchArray.indexOf(item) === index;\n    });\n    \n    //updating state\n    setMatches(uniqMatchArray);\n  }\n\n  const handleToggleAutocomplete = () => {\n    setShowAutocomplete(!showAutocomplete);\n  }\n\n  return (\n    <section className={photos.length === 0 ? 'container fullForm' : 'container smallForm'}>\n      <header className='row header' style={showAutocomplete ? {\"overflowY\": \"visible\"} : null}>\n        {photos.length === 0 &&\n          <>\n            <h1 className='header__title'>Unsplash</h1>\n            <p className='header__text'>The internet's source of {' '}\n              <a  href=\"https://unsplash.com/\" \n                  target='_blank' \n                  rel='noreferrer'> freely-usable images</a>.\n            </p>\n            <p className='header__text'>Powered by creators everywhere.</p>\n          </> \n        }\n        <form className={noMatch ? 'header__form header__form--error' : 'header__form'} onSubmit={handleSubmit}>\n          <i className=\"fas fa-search\" onClick={handleFocus} />\n          {noMatch && <label htmlFor='content' className='header__form__label'>No match found!</label>}\n          <input \n            type='text'\n            name='content'\n            className={noMatch ? 'header__form__input header__form__input--error' : 'header__form__input'}\n            placeholder='Search free high-resolution photos'\n            value={searchValue}\n            onChange={displayMatches}\n            onKeyUp={displayMatches}\n            ref={inputRef}\n            />\n          {photos.length === 0 || searchValue.length < 3 ? null : <i className={showAutocomplete ? \"far fa-caret-square-up\" : \"far fa-caret-square-down\"} onClick={handleToggleAutocomplete}></i>}\n          {searchValue ? <i className=\"fas fa-times\" onClick={handleClear}/> : null}\n          {searchValue.length < 3 ?\n            null\n            :\n            <ul className='header__form__list'>\n              {matches.length === 0 ?\n                <li className='form__list__elem'>No Match</li>\n                :\n                matches.map((match, idx) => {\n                return <li key={idx} className='form__list__elem' onClick={e => handleSubmit(e, match)}>{match}</li>\n                })\n              }\n            </ul>\n          }\n        </form>\n        {photos.length === 0 && trendingTopics.length !== 0 &&\n          <p className='header__text'>Trending: \n            {trendingTopics.map((topic, i) => {\n              if (trendingTopics.length === i +1) return <span key={topic.id}> {topic.title}</span>;\n              return <span key={topic.id}> {topic.title},</span>\n              }\n            )}\n          </p>\n        }\n      </header>\n    </section>\n  );\n}\n\nexport default Form;\n","import { useState, useRef, useEffect } from 'react';\nimport './Photo.scss';\n\nconst Photo = ( {id, user, src, srcBigger, dalej, idoffuture} ) => {\n\n  //state\n  const [isBig, setIsBig] = useState(false);\n  const [clientY, setClientY] = useState(0);\n  const [photoDetails, setPhotoDetails] = useState('');\n  const [e, setE] = useState('');\n\n  //variables\n  const key = \"q8pGKlT0Khz6viOf9A5MXa-3XvXETz3f8xNcchKr9MY\";\n\n  //making bigger image after user click on it\n  const handleMakeBigger = e => {\n    //fetching details of photo\n    fetch(`https://api.unsplash.com/photos/${id}/?client_id=${key}`)\n    .then(resp => resp.json()\n    .then(data => {\n      //set state\n      setE(e);\n      setPhotoDetails(data);\n      setIsBig(true);\n      setClientY(e.pageY - e.clientY + 40);\n      //scroll to see image\n      window.scrollTo(0, e.pageY - e.clientY);\n    })\n  )}\n\n  //exit form big image view\n  const handleMakeSmaller = e => {\n    if (e.type === \"keydown\") {\n      if (e.key !== \"Escape\") return;\n      setIsBig(false);\n    }\n    if (e.target.dataset.tag === 'makeSmall') setIsBig(false);\n  }\n\n  const photoRef = useRef(null);\n\n  useEffect(() => {\n    if (idoffuture === photoRef.current.id) {\n      console.log(e);\n      setIsBig(false);\n    }\n  }, [idoffuture])\n\n  return (\n    <li className='photoGallery__list__elem' tabIndex=\"0\" onKeyDown={handleMakeSmaller}>\n      <img \n        className='list__elem__img'\n        src={src} \n        alt='' \n        onClick={handleMakeBigger} \n        ref={photoRef}\n        id={id}\n      />\n      {isBig && \n        <div className='list__elem__container' onClick={handleMakeSmaller} data-tag='makeSmall'>\n          <div className='elem__container__box'  style={{'top': `${clientY}px`}}>\n            <div className='container__box__header'>\n              <div className='box__header__user'>\n                <img src={user.profile_image.small} alt='' />\n                <div>\n                  <p>{user.name}</p>\n                  {user.twitter_username && <p>@{user.twitter_username}</p>}\n                </div>\n              </div>\n              <div className='box__header__delete' onClick={handleMakeSmaller} data-tag='makeSmall'>\n                <i className=\"fas fa-times\" data-tag='makeSmall'/>\n              </div>\n            </div>\n            <img \n              className='container__box__img'\n              src={srcBigger} \n              alt='' \n              onClick={handleMakeSmaller} \n              data-tag='makeSmall'\n            />\n            <div className='container__box__footer'>\n              {photoDetails.location.name && <p>{photoDetails.location.name}</p>}\n            </div>\n            <div onClick={id => dalej(photoRef.current.id)}>DALEJ</div>\n          </div>\n        </div>\n      }\n    </li>\n  )\n}\n\nexport default Photo;","import './PhotoGallery.scss';\nimport Photo from './Photo';\nimport { useEffect, useRef, useState } from 'react';\n\nconst PhotoGallery = ( {photos, savedValue, handleClickTag, setIsBottom} ) => {\n\n  //state\n  const [sortedTags, setSortedTags] = useState([]);\n  const [idoffuture, setidoffuture] = useState('');\n\n  //ref\n  const photoGalleryRef = useRef(null);\n\n  const dalej = id => {\n    const newarr = photos.map(photo => photo.id);\n    const index = newarr.indexOf(id);\n\n    const idoffuture = photos[index+1].id;\n    setidoffuture(idoffuture);\n  }\n\n  //when component mounts prepairing similar topic\n  useEffect(() => {\n    let arrayTags = [];\n\n    //make array of tags similar to searched value\n    photos.map(photo => {\n      return photo.tags.map((tag => {\n        return arrayTags.push(tag.title);\n      }));\n    })\n\n    //counting the tags\n    const tagsCount = arrayTags.reduce((obj, item) => {\n      const searched = savedValue.toLowerCase();\n\n      if (item === searched) return obj;\n        if (!obj[item]) obj[item] = 0;\n        obj[item]++;\n        return obj;\n    }, {});\n\n    //sorting tags from most occurring\n    const tagsCountSorted = Object.fromEntries(Object.entries(tagsCount).sort(([,a],[,b]) => b - a));\n\n    //passing tags to state\n    setSortedTags(Object.keys(tagsCountSorted));\n\n  }, [photos])\n\n  //listen on scroll event\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n  })\n\n  //checking if user is on the bottom of the page \n  const handleScroll = () => {\n    let bottom = window.innerHeight - photoGalleryRef.current.getBoundingClientRect().bottom;\n    if (bottom >= 0) {\n      setIsBottom(true);\n    }\n  }\n\n  return (\n    <section className='container photoGallery' ref={photoGalleryRef}>\n      <div className='row photoGallery__description'>\n        <h2 className='photoGallery__description__title'>{savedValue}</h2>\n      </div>\n      <div className='row photoGallery__description'>\n        {sortedTags && \n          sortedTags.map((sortedTag, idx) => {\n            return  <div key={idx} \n                         className='photoGallery__description__tag' \n                         onClick={e => handleClickTag(e, sortedTag)}>\n                      {sortedTag}\n                    </div>\n          })\n        }\n      </div>\n      <ul className='row photoGallery__list'>\n        {photos.map(photo =>\n            <Photo  key={photo.id} \n                    id={photo.id} \n                    src={photo.urls.small} \n                    srcBigger={photo.urls.regular} \n                    user={photo.user}\n                    idoffuture={idoffuture}\n                    dalej={dalej}\n            />\n        )}\n      </ul>\n    </section>\n  )\n}\n\nexport default PhotoGallery;","\nimport { useEffect, useState } from 'react';\nimport './App.scss';\nimport Form from './components/Form';\nimport PhotoGallery from './components/PhotoGallery';\n\nfunction App() {\n\n  //state\n  const [searchValue, setSearchValue] = useState('');\n  const [savedValue, setSavedValue] = useState('');\n  const [photos, setPhotos] = useState([]);\n  const [backgroundImg, setBackgroundImg] = useState('');\n  const [trendingTopics, setTrendingTopics] = useState([]);\n  const [noMatch, setNoMatch] = useState(false);\n  const [page, setPage] = useState(1);\n  const [isBottom, setIsBottom] = useState(false);\n\n  //variables\n  const key = \"q8pGKlT0Khz6viOf9A5MXa-3XvXETz3f8xNcchKr9MY\";\n\n  // fetching background image and top trending topics on component mounting\n  useEffect(() => {\n    fetch(`https://api.unsplash.com/photos/random/?client_id=${key}`)\n    .then(resp => resp.json()\n    .then(data => setBackgroundImg(data.urls.regular)))\n\n    fetch(`https://api.unsplash.com/topics/?client_id=${key}&per_page=5`)\n    .then(resp => resp.json()\n    .then(data => setTrendingTopics(data)))\n  }, [])\n\n  //if user is on the bottom of the page change state of page\n  useEffect(() => {\n    if (isBottom) {\n      setPage(value => value + 1);\n    }\n  }, [isBottom]);\n\n  //if state of page is changed fetch additional data\n  useEffect(() => {\n    if (page !== 1) {\n      handleMore();\n    }\n  }, [page])\n\n  //fetching data after submiting form or clicking on type ahead data\n  const handleSubmit = (e, value) => {\n    //if type ahead data was clicked or similar topics, they passed value\n    if (value) {\n      fetch(`https://api.unsplash.com/search/photos/?client_id=${key}&query=${value}&per_page=30`)\n      .then(resp => resp.json()\n      .then(data => {\n        //checking if there is a match\n        if (data.total === 0) {\n          setNoMatch(true);\n        } else {\n          setNoMatch(false);\n        }\n        //changing state\n        setSavedValue(value.charAt(0).toUpperCase() + value.slice(1));\n        if (data.results) {\n          setPhotos(data.results);\n        }\n      }))\n      //if form was submited\n    } else {\n      e.preventDefault();\n      fetch(`https://api.unsplash.com/search/photos/?client_id=${key}&query=${searchValue}&per_page=30`)\n      .then(resp => resp.json()\n      .then(data => {\n        //checking if there is a match\n        if (data.total === 0) {\n          setNoMatch(true);\n        } else {\n          setNoMatch(false);\n        }\n        //changing state\n        setSavedValue(searchValue.charAt(0).toUpperCase() + searchValue.slice(1));\n        if (data.results) {\n          setPhotos(data.results);\n        }\n      }))\n    }\n  }\n\n  const handleMore = () => {\n    //added page query\n    fetch(`https://api.unsplash.com/search/photos/?client_id=${key}&query=${savedValue}&per_page=30&page=${page}`)\n    .then(resp => resp.json()\n    .then(data => {\n      //checking if there is a match\n      if (data.total === 0) {\n        setNoMatch(true);\n      } else {\n        setNoMatch(false);\n      }\n\n      //adding data together\n      if (data.results) {\n        const photosArray = [...photos, ...data.results];\n        setPhotos(photosArray);\n      }\n      setIsBottom(false);\n    }))\n  }\n\n  return (\n    <>\n      {/* first screen before any submit and fetch */}\n      {photos.length === 0 && <section className=\"hero\" style={backgroundImg ? {\"backgroundImage\": `url(${backgroundImg})`} : null} />}\n      <Form \n        noMatch={noMatch}\n        photos={photos}\n        searchValue={searchValue} \n        trendingTopics={trendingTopics}\n        handleSearchValueChange={setSearchValue}\n        handleSubmit={handleSubmit}\n      />\n      {/* second screen with gallery */}\n      {photos.length !==0 && \n        <PhotoGallery \n          photos={photos}\n          savedValue={savedValue}\n          handleClickTag={handleSubmit}\n          setIsBottom={setIsBottom}\n        />\n      }\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.scss';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}